@using Microsoft.IdentityModel.Tokens
@using Nop.Core
@using Nop.Web.Factories
@using Nop.Web.Themes.SaljiDalje.Data
@inject ICustomerModelFactory CustomerModelFactory
@inject IWorkContext WorkContext
@model Nop.Web.Themes.SaljiDalje.Data.CostumerNavigationInfo
@{
    var customerInfoModel = new CustomerInfoModel();
    customerInfoModel = await CustomerModelFactory.PrepareCustomerInfoModelAsync(customerInfoModel, await WorkContext.GetCurrentCustomerAsync(), false);
    
    var modelAvatar = new CustomerAvatarModel();
    await CustomerModelFactory.PrepareCustomerAvatarModelAsync(modelAvatar);
}
<aside class="col-lg-4 col-md-5 pe-xl-4 mb-5">
    <!-- Account nav-->
    <div class="card card-body card-light border-0 shadow-sm pb-1 me-lg-1">
        <div class="d-flex d-md-block d-lg-flex align-items-start pt-lg-2 mb-4">
            <img class="rounded-circle" src="@(!modelAvatar.AvatarUrl.IsNullOrEmpty() ? modelAvatar.AvatarUrl : SaljiDaljeConstants.NO_PROFILE_IMAGE)" width="48" alt="Robert Fox">
            <div class="pt-md-2 pt-lg-0 ps-3 ps-md-0 ps-lg-3">
                <h2 class="fs-lg text-light mb-0">Robert Fox</h2>
                <span class="star-rating"><i class="star-rating-icon fi-star-filled active"></i><i class="star-rating-icon fi-star-filled active"></i><i class="star-rating-icon fi-star-filled active"></i><i class="star-rating-icon fi-star-filled active"></i><i class="star-rating-icon fi-star-filled active"></i>
                </span>
                <ul class="list-unstyled fs-sm mt-3 mb-0">
                    <li>
                        <a class="nav-link-light fw-normal" href="tel:3025550107"><i class="fi-phone opacity-60 me-2"></i>(302) 555-0107</a>
                    </li>
                    <li>
                        <a class="nav-link-light fw-normal" href="mailto:@@Model.CustomerInfoModel.Email">
                            <i class="fi-mail opacity-60 me-2"></i>@customerInfoModel.Email
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <a class="btn btn-primary btn-lg w-100 mb-3" asp-controller="SellCar" asp-action="Index">
            <i class="fi-plus me-2"></i>Sell car
        </a>
        <a class="btn btn-outline-light d-block d-md-none w-100 mb-3" href="#account-nav" data-bs-toggle="collapse">
            <i class="fi-align-justify me-2"></i>Menu
        </a>
        <div class="collapse d-md-block mt-3" id="account-nav">
            <div class="card-nav">
                <a class="card-nav-link @(Model.CustomerNavigationEnum == CostumerNavigationOptions.PersonalInfo ? "active": "")" asp-controller="Customer" asp-action="Info"><i class="fi-user me-2"></i>Personal Info</a>
                <a class="card-nav-link @(Model.CustomerNavigationEnum == CostumerNavigationOptions.PasswordSecurity ? "active": "")" asp-controller="Customer" asp-action="ChangePassword"><i class="fi-lock me-2"></i>Password &amp; Security</a>
                <a class="card-nav-link @(Model.CustomerNavigationEnum == CostumerNavigationOptions.MyCars ? "active": "")" asp-controller="CustomCustomer" asp-action="MyCars"><i class="fi-car me-2"></i>My Cars</a>
                <a class="card-nav-link @(Model.CustomerNavigationEnum == CostumerNavigationOptions.WishList ? "active": "")" asp-controller="ShoppingCart" asp-action="WishList"><i class="fi-heart me-2"></i>Wishlist<span class="badge bg-faded-light ms-2">4</span></a>
                <a class="card-nav-link @(Model.CustomerNavigationEnum == CostumerNavigationOptions.Reviews ? "active": "")" href="@Url.RouteUrl("CustomerProductReviews")"><i class="fi-star me-2"></i>Reviews</a>
                <a class="card-nav-link @(Model.CustomerNavigationEnum == CostumerNavigationOptions.Notifications ? "active": "")" asp-controller="CustomCustomer" asp-action="Notifications"><i class="fi-bell me-2"></i>Notifications</a>
                <a class="card-nav-link @(Model.CustomerNavigationEnum == CostumerNavigationOptions.Help ? "active": "")" asp-controller="CustomCustomer" asp-action="HelpCenter"><i class="fi-help me-2"></i>Help</a>
                <a class="card-nav-link" href="@Url.RouteUrl("Logout")"><i class="fi-logout me-2"></i>Sign Out</a>
            </div>
        </div>
    </div>
</aside>