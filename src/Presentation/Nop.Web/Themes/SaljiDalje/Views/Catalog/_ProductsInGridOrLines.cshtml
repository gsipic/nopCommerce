@model CatalogProductsModel
@inject IHtmlHelper htmlHelper
@if (!string.IsNullOrEmpty(Model.WarningMessage))
{
    <div class="warning">
        @Model.WarningMessage
    </div>
}

@if (Model.Products.Count > 0)
{
    <div class="d-none" data-total-number="@Model.TotalItems"></div>
    <div class="@if (Model.ViewMode == "grid"){ <text>row</text>}">
        @foreach (var product in Model.Products)
        {
            if (Model.ViewMode == "list")
            {
                <!-- Item-->
                <div class="card card-light card-hover card-horizontal mb-4">
                    <div class="tns-carousel-wrapper card-img-top card-img-hover">
                        <a class="img-overlay" href="@product.SeName"></a>
                        <div class="position-absolute start-0 top-0 pt-3 ps-3">
                            <span class="d-table badge bg-info">Used</span>
                        </div>
                        <div class="content-overlay end-0 top-0 pt-3 pe-3">
                            <button class="btn btn-icon btn-light btn-xs text-primary rounded-circle" type="button" data-bs-toggle="tooltip" data-bs-placement="left" title="Add to Wishlist">
                                <i class="fi-heart"></i>
                            </button>
                        </div>
                        <div class="tns-carousel-inner position-absolute top-0 h-100">
                            @foreach (var imageProducts in product.PictureModels)
                            {
                                <div class="bg-size-cover bg-position-center w-100 h-100" style="background-image: url(@imageProducts.ImageUrl);"></div>
                            }
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="d-flex align-items-center justify-content-between pb-1">
                            <span class="fs-sm text-light me-3">1995</span>
                            <div class="form-check form-check-light">
                                <input class="form-check-input" type="checkbox" id="compare1">
                                <label class="form-check-label fs-sm" for="compare1">Compare</label>
                            </div>
                        </div>
                        <h3 class="h6 mb-1">
                            <a class="nav-link-light" href="@product.SeName">@product.Name</a>
                        </h3>
                        @{ var price = $"{product.ProductPrice.PriceValue:C0}";}
                        <div class="text-primary fw-bold mb-1">@price</div>
                        <div class="fs-sm text-light opacity-70"><i class="fi-map-pin me-1"></i>Chicago</div>
                        <div class="border-top border-light mt-3 pt-3">
                            <div class="row g-2">
                                <div class="col me-sm-1">
                                    <div class="bg-dark rounded text-center w-100 h-100 p-2">
                                        <i class="fi-dashboard d-block h4 text-light mb-0 mx-center"></i><span class="fs-xs text-light">278K mi</span>
                                    </div>
                                </div>
                                <div class="col me-sm-1">
                                    <div class="bg-dark rounded text-center w-100 h-100 p-2">
                                        <i class="fi-gearbox d-block h4 text-light mb-0 mx-center"></i><span class="fs-xs text-light">Manual</span>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="bg-dark rounded text-center w-100 h-100 p-2">
                                        <i class="fi-petrol d-block h4 text-light mb-0 mx-center"></i><span class="fs-xs text-light">Diesel</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
            else
            {
                <div class="col-sm-6 mb-4">
                    <div style="max-height: 500px" class="card card-light card-hover h-100">
                        <div class="tns-carousel-wrapper card-img-top card-img-hover">
                            <a class="img-overlay" href="@product.SeName"></a>
                            <div class="position-absolute start-0 top-0 pt-3 ps-3">
                                <span class="d-table badge bg-info">Used</span>
                            </div>
                            <div class="content-overlay end-0 top-0 pt-3 pe-3">
                                <button class="btn btn-icon btn-light btn-xs text-primary rounded-circle" type="button" data-bs-toggle="tooltip" data-bs-placement="left" title="Add to Wishlist">
                                    <i class="fi-heart"></i>
                                </button>
                            </div>
                            <div class="tns-carousel-inner">
                                @foreach (var imageProducts in product.PictureModels)
                                {
                                    <img src="@imageProducts.ImageUrl" alt="Image">
                                }
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="d-flex align-items-center justify-content-between pb-1">
                                <span class="fs-sm text-light me-3">1995</span>
                                <div class="form-check form-check-light">
                                    <input class="form-check-input" type="checkbox" id="compare1">
                                    <label class="form-check-label fs-sm" for="compare1">Compare</label>
                                </div>
                            </div>
                            <h3 class="h6 mb-1">
                                <a class="nav-link-light" href="@product.SeName">@product.Name</a>
                            </h3>
                            @{ var price = $"{product.ProductPrice.PriceValue:C0}";}
                            <div class="text-primary fw-bold mb-1">@price</div>
                            <div class="fs-sm text-light opacity-70"><i class="fi-map-pin me-1"></i>Chicago</div>
                        </div>
                        <div class="card-footer border-0 pt-0">
                            <div class="border-top border-light pt-3">
                                <div class="row g-2">
                                    <div class="col me-sm-1">
                                        <div class="bg-dark rounded text-center w-100 h-100 p-2">
                                            <i class="fi-dashboard d-block h4 text-light mb-0 mx-center"></i><span class="fs-xs text-light">278K mi</span>
                                        </div>
                                    </div>
                                    <div class="col me-sm-1">
                                        <div class="bg-dark rounded text-center w-100 h-100 p-2">
                                            <i class="fi-gearbox d-block h4 text-light mb-0 mx-center"></i><span class="fs-xs text-light">Manual</span>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="bg-dark rounded text-center w-100 h-100 p-2">
                                            <i class="fi-petrol d-block h4 text-light mb-0 mx-center"></i><span class="fs-xs text-light">Diesel</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
        }
        @{
            var pager = new Nop.Web.Controllers.SaljiDalje.Core.Pager(Model, htmlHelper.ViewContext)
                .QueryParam("pagenumber")
                .MainUlCssClass("pagination pagination-light mb-0")
                .IndividualPageCssClass("page-item d-none d-sm-block")
                .CurrentPageCssClass("page-item active d-none d-sm-block")
                .PreviousPageCssClass("page-item")
                .NextPageCssClass("page-item")
                // for search page
                .BooleanParameterName("advs")
                .BooleanParameterName("isc")
                .BooleanParameterName("sid")
                .RenderEmptyParameters(true);
        }
        <!-- Sorting + Pagination-->
        <div class="d-flex align-items-center justify-content-between py-2">
            <div class="d-flex align-items-center me-sm-4">
                <label class="fs-sm text-light me-2 pe-1 text-nowrap" for="sorting2"><i class="fi-arrows-sort mt-n1 me-2"></i>Sort by:</label>
                @Html.DropDownList("products-orderby", Model.AvailableSortOptions, new { aria_label = T("Catalog.OrderBy.Label"), @class = "form-select form-select-light form-select-sm me-2 me-sm-4" })
                <div class="d-none d-md-block border-end border-light" style="height: 1.25rem;"></div>
                <div class="d-none d-md-block fw-bold text-light opacity-70 text-nowrap ps-md-4">
                    <i class="fi-switch-horizontal me-2"></i><span class="align-middle">Compare (0)</span>
                </div>
            </div>
            @*<nav aria-label="Pagination">
            <ul class="pagination pagination-light mb-0">
                <li class="page-item d-sm-none text-nowrap">
                    <span class="page-link page-link-static">1 / 5</span>
                </li>
                <li class="page-item active d-none d-sm-block" aria-current="page">
                    <span class="page-link">1<span class="visually-hidden">(current)</span></span>
                </li>
                <li class="page-item d-none d-sm-block">
                    <a class="page-link" href="#">2</a>
                </li>
                <li class="page-item d-none d-sm-block">
                    <a class="page-link" href="#">3</a>
                </li>
                <li class="page-item d-none d-sm-block">...</li>
                <li class="page-item d-none d-sm-block">
                    <a class="page-link" href="#">8</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Next">
                        <i class="fi-chevron-right"></i>
                    </a>
                </li>
            </ul>
        </nav>*@
            @if (!await pager.IsEmpty())
            {
                <nav aria-label="Pagination">
                    @pager
                </nav>
            }
        </div>
    </div>
    
}
else if (!string.IsNullOrEmpty(Model.NoResultMessage))
{
    <div class="no-result">
        @Model.NoResultMessage
    </div>
}